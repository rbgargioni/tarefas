<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quadro de Tarefas</title>

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Arial', sans-serif;
        background-color: #f5f5f5;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }

    .container {
        width: 100%;
        max-width: 1400px;
        background-color: white;
        border: 3px solid #333;
        border-radius: 8px;
        padding: 30px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
    }

    .header {
        margin-bottom: 20px;
    }

    .header-line {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .header-line h1 {
        font-size: 3em;
        color: #333;
        font-weight: bold;
        letter-spacing: 3px;
    }

    .subtitle {
        text-align: center;
        color: #666;
        font-size: 1.2em;
        margin-top: 8px;
    }

    /* Rel√≥gio gr√°fico */
    .progress-ring {
        position: relative;
        width: 90px;
        height: 90px;
    }

    .progress-ring svg {
        transform: rotate(-90deg);
    }

    .progress-ring-bg {
        fill: none;
        stroke: #e0e0e0;
        stroke-width: 10;
    }

    .progress-ring-progress {
        fill: none;
        stroke: #27ae60;
        stroke-width: 10;
        stroke-linecap: round;
        stroke-dasharray: 219.8;
        stroke-dashoffset: 219.8;
        transition: stroke-dashoffset 0.5s ease;
    }

    .progress-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-weight: bold;
        font-size: 1.1em;
        color: #333;
    }

    /* Tabela */
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    thead {
        background-color: #2c3e50;
        color: white;
        position: sticky;
        top: 0;
        z-index: 2;
    }

    th {
        padding: 15px;
        text-align: center;
        border: 2px solid #34495e;
        text-transform: uppercase;
        font-size: 1.2em;
    }

    td {
        border: 2px solid #bdc3c7;
        padding: 15px;
        text-align: center;
        font-size: 1.1em;
    }

    .task-cell {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-weight: bold;
        gap: 6px;
    }

    .task-icon {
        font-size: 2.6em;
    }

    .checkbox {
        width: 28px;
        height: 28px;
        cursor: pointer;
    }

    /* Dia atual */
    .dia-atual {
        background-color: #ffeaa7 !important;
        border-color: #fdcb6e !important;
    }

    thead .dia-atual {
        background-color: #e17055 !important;
        color: white !important;
    }

    /* Bot√µes */
    .buttons {
        margin-top: 20px;
        display: flex;
        gap: 15px;
        justify-content: center;
    }

    .btn {
        padding: 12px 25px;
        font-size: 1.1em;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        color: white;
        transition: 0.3s;
    }

    .btn-print { background-color: #27ae60; }
    .btn-print:hover { background-color: #1e8449; }

    .btn-clear { background-color: #c0392b; }
    .btn-clear:hover { background-color: #922b21; }

    /* Canvas dos fogos */
    #fireworksCanvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        display: none;
        z-index: 99999;
    }

    @media print {
        .btn, .progress-ring { display: none; }
    }
</style>
</head>
<body>

<canvas id="fireworksCanvas"></canvas>

<div class="container">

    <div class="header">
        <div class="header-line">
            <h1>QUADRO DE TAREFAS</h1>

            <div class="progress-ring">
                <svg width="90" height="90">
                    <circle class="progress-ring-bg" cx="45" cy="45" r="35"/>
                    <circle class="progress-ring-progress" cx="45" cy="45" r="35"/>
                </svg>
                <div class="progress-text">0%</div>
            </div>
        </div>

        <p class="subtitle">Semana de ______</p>
    </div>

    <table>
        <thead>
            <tr>
                <th>TAREFAS</th>
                <th>SEGUNDA</th>
                <th>TER√áA</th>
                <th>QUARTA</th>
                <th>QUINTA</th>
                <th>SEXTA</th>
                <th>S√ÅBADO</th>
            </tr>
        </thead>
        <tbody>

            <!-- LINHAS DE TAREFAS -->
            <tr>
                <td class="task-cell"><div class="task-icon">ü™•</div>Escovar os Dentes</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

            <tr>
                <td class="task-cell"><div class="task-icon">üß∏</div>Guardar os Brinquedos</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

            <tr>
                <td class="task-cell"><div class="task-icon">üõèÔ∏è</div>Arrumar a Cama</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

            <tr>
                <td class="task-cell"><div class="task-icon">üìö</div>Fazer as Tarefas</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

            <tr>
                <td class="task-cell"><div class="task-icon">üçΩÔ∏è</div>Comer Bem</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

            <tr>
                <td class="task-cell"><div class="task-icon">ü§ê</div>N√£o falar palavr√£o</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

            <tr>
                <td class="task-cell"><div class="task-icon">üëï</div>Guardar as Roupas</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

            <tr>
                <td class="task-cell"><div class="task-icon">üöø</div>Tomar Banho</td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
                <td><input type="checkbox" class="checkbox"></td><td><input type="checkbox" class="checkbox"></td>
            </tr>

        </tbody>
    </table>

    <div class="buttons">
        <button class="btn btn-print" onclick="window.print()">üñ®Ô∏è Imprimir</button>

        <button class="btn btn-clear"
            onclick="if(confirm('Deseja limpar todos os checks?')){localStorage.clear();location.reload();}">
            üîÑ Limpar Semana
        </button>
    </div>

</div>

<script>
/* ============================== */
/* Fogos de Artif√≠cio üéÜ          */
/* ============================== */
function iniciarFogos() {
    const canvas = document.getElementById("fireworksCanvas");
    const ctx = canvas.getContext("2d");

    canvas.style.display = "block";
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let particles = [];

    function random(min, max) {
        return Math.random() * (max - min) + min;
    }

    function createFirework() {
        const x = random(100, window.innerWidth - 100);
        const y = random(50, window.innerHeight / 2);

        for (let i = 0; i < 60; i++) {
            particles.push({
                x,
                y,
                angle: random(0, Math.PI * 2),
                speed: random(2, 6),
                radius: 2,
                life: 60,
                color: `hsl(${random(0, 360)}, 100%, 60%)`
            });
        }
    }

    function loop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        particles.forEach((p, i) => {
            p.x += Math.cos(p.angle) * p.speed;
            p.y += Math.sin(p.angle) * p.speed;
            p.life--;

            ctx.beginPath();
            ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
            ctx.fillStyle = p.color;
            ctx.fill();

            if (p.life <= 0) particles.splice(i, 1);
        });

        if (Math.random() < 0.05) createFirework();

        if (particles.length > 0) {
            requestAnimationFrame(loop);
        } else {
            canvas.style.display = "none";
        }
    }

    createFirework();
    loop();
}

/* ============================== */
/* Principal                      */
/* ============================== */
document.addEventListener("DOMContentLoaded", () => {

    const checkboxes = document.querySelectorAll(".checkbox");

    checkboxes.forEach((cb, i) => {
        if (!cb.id) cb.id = "chk_" + i;

        const saved = localStorage.getItem(cb.id);
        if (saved === "true") cb.checked = true;

        cb.addEventListener("change", () => {
            localStorage.setItem(cb.id, cb.checked);
            atualizarRelogio();
        });
    });

    /* Data atual */
    const hoje = new Date();
    const d = String(hoje.getDate()).padStart(2, "0");
    const m = String(hoje.getMonth() + 1).padStart(2, "0");
    const a = hoje.getFullYear();

    document.querySelector(".subtitle").textContent =
        `Semana de ${d}/${m}/${a}`;

    /* Destacar dia da semana */
    const dia = hoje.getDay();
    const map = {1:1,2:2,3:3,4:4,5:5,6:6};

    if (dia !== 0) {
        const col = map[dia];
        document.querySelectorAll("table tr").forEach(row => {
            if (row.children[col])
                row.children[col].classList.add("dia-atual");
        });
    }

    /* Rel√≥gio gr√°fico */
    function atualizarRelogio() {
        const total = checkboxes.length;
        const marcados = Array.from(checkboxes).filter(c => c.checked).length;

        const pct = Math.round((marcados / total) * 100);

        document.querySelector(".progress-text").textContent = pct + "%";

        const circ = 2 * Math.PI * 35;
        const offset = circ - (pct / 100) * circ;

        document.querySelector(".progress-ring-progress").style.strokeDashoffset = offset;

        if (pct === 100) iniciarFogos();
    }

    atualizarRelogio();
});
</script>

</body>
</html>
